(this["webpackJsonpreact-permission-editor"]=this["webpackJsonpreact-permission-editor"]||[]).push([[0],{21:function(e,t,a){e.exports=a(40)},26:function(e,t,a){},28:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(18),s=a.n(i),r=(a(26),a(4)),c=a(5),o=a(8),m=a(6),u=a(7),d=(a(27),a(28),a(3)),p=a.n(d),h=a(15),v=a.n(h),E=a(19),f=a(10),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).pickerRef=l.a.createRef(),a.state={defaultDate:a.dateView(a.props.default),minDate:a.props.minDate?a.props.minDate:null,currentDate:null,currentTime:null},a.dateView=a.dateView.bind(Object(f.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"datePickerInit",value:function(){var e=this.dateView;p.a.Datepicker.init(this.pickerRef.current,{defaultDate:new Date,firstDay:1,minDate:this.state.minDate,onSelect:function(t){var a=this.date;a.setHours(0),a.setMinutes(0),a.setSeconds(0),this.el.parentElement.querySelector("input").value=e(a)},onClose:function(){var t=this;if(this.date){var a=p.a.Timepicker.init(this.el,{twelveHour:!1,onCloseStart:function(){a.time?(t.addTime=function(t){var a=new Date(this.date),n=t.split(":");a.setHours(n[0]),a.setMinutes(n[1]),a.setSeconds(n[2]),this.el.parentElement.querySelector("input").value=e(a)},t.addTime(a.time?a.time+":00":""),a.destroy()):a.destroy()},i18n:{cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",done:"\u0412\u044b\u0431\u043e\u0440"}});a.open()}},onOpen:function(){this.el.parentElement.querySelector("input").classList.remove("invalid")},i18n:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthsShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],weekdays:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u043a","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0440\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],weekdaysShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],weekdaysAbbrev:["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",done:"\u0412\u044b\u0431\u043e\u0440"}})}},{key:"componentDidMount",value:function(){p.a.updateTextFields(),this.datePickerInit()}},{key:"componentDidUpdate",value:function(){p.a.updateTextFields()}},{key:"dateView",value:function(e){var t;if("GMT"===this.props.type&&"string"===typeof e)t=e;else{var a=new Date(e);t=new Date("".concat(a.toDateString()," ").concat(a.toTimeString().slice(0,8)," GMT")).toISOString()}var n=t.split("T")[0],l=t.split("T")[1];return l=l.slice(0,8),"".concat(n,", ").concat(l)}},{key:"render",value:function(){return l.a.createElement("div",{className:"input-field col s"+this.props.colSize},l.a.createElement("input",{id:this.props.id,type:"text",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"validate",defaultValue:this.state.defaultDate}),l.a.createElement("label",{htmlFor:this.props.id},this.props.label),l.a.createElement("i",{className:"material-icons input-date-picker",ref:this.pickerRef},"calendar_today"),l.a.createElement("span",{className:"helper-text date-helper","data-error":this.props.errorText}))}}]),t}(l.a.Component),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){p.a.updateTextFields(),p.a.Range.init(document.querySelectorAll("input[type=range]"))}},{key:"componentDidUpdate",value:function(){p.a.updateTextFields(),p.a.Range.init(document.querySelectorAll("input[type=range]"))}},{key:"showCurrentValue",value:function(e){e.target.parentElement.querySelector(".current-value").innerHTML=e.target.value}},{key:"render",value:function(){return l.a.createElement("p",{className:"range-field"},l.a.createElement("p",{className:"range-helper"},l.a.createElement("span",null,this.props.min),l.a.createElement("span",null,"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",l.a.createElement("span",{className:"current-value"},this.props.default)),l.a.createElement("span",null,this.props.max)),l.a.createElement("input",{type:"range",id:this.props.id,defaultValue:this.props.default,min:this.props.min,max:this.props.max,onChange:this.showCurrentValue}))}}]),t}(l.a.Component),g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={list:a.props.flags,isIncrease:!1},a.addRow=a.addRow.bind(Object(f.a)(a)),a.deleteLastRow=a.deleteLastRow.bind(Object(f.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"addRow",value:function(){this.setState({isIncrease:!0});var e=this.state.list;e.push("0"),this.setState({list:e})}},{key:"deleteLastRow",value:function(){this.setState({isIncrease:!1});var e=this.state.list;e.pop(),this.setState({list:e})}},{key:"getRows",value:function(){var e=this;return this.state.list.map((function(t,a){var n=+t?l.a.createElement("input",{defaultChecked:!0,type:"checkbox"}):l.a.createElement("input",{type:"checkbox"});return l.a.createElement("tr",{key:a,className:e.state.isIncrease&&e.state.list.length-1===a?"fadeIn":""},l.a.createElement("td",null,"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043c\u043e\u0434\u0443\u043b\u044e ",a+1),l.a.createElement("td",null,l.a.createElement("div",{className:"switch"},l.a.createElement("label",null,n,l.a.createElement("span",{className:"lever"})))))}))}},{key:"render",value:function(){return l.a.createElement("div",{id:this.props.id,className:"switch-list-wrapper"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u041f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u044f:"),this.state.list.length<1?"":l.a.createElement("th",null,"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e?"))),l.a.createElement("tbody",null,this.state.list.length<1?l.a.createElement("tr",null,l.a.createElement("td",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043e\u0431\u043b\u0430\u0434\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u043a \u0441\u0438\u0441\u0442\u0435\u043c\u0435")):this.getRows())),l.a.createElement("div",{className:"table-config"},l.a.createElement("a",{className:"table-link",onClick:this.addRow},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443"),l.a.createElement("a",{className:"table-link",onClick:this.deleteLastRow},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e")))}}]),t}(l.a.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={json:a.props.data},a.copyInClipboard=a.copyInClipboard.bind(Object(f.a)(a)),a.saveFile=a.saveFile.bind(Object(f.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"saveFile",value:function(){var e=new Blob([this.state.json],{type:"application/json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(e,"response.json");else{var t=document.createElement("a"),a=URL.createObjectURL(e);t.href=a,t.download="response.json",document.body.appendChild(t),t.click(),setTimeout((function(){document.body.removeChild(t),window.URL.revokeObjectURL(a)}),0)}}},{key:"copyInClipboard",value:function(){navigator.clipboard.writeText(this.state.json).then((function(){p.a.toast({html:"\u0413\u043e\u0442\u043e\u0432\u043e!"})}),(function(e){p.a.toast({html:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c!"})}))}},{key:"formatData",value:function(e){var t=JSON.parse(e),a=[];for(var n in t)Array.isArray(t[n])?a.push(l.a.createElement("p",{key:a.length,className:"syntax-new-line"},'"',l.a.createElement("span",{className:"syntax-key"},n),'": [',t[n].map((function(e){return"number"==typeof e?"".concat(e):'"'.concat(e,'"')})).join(","),"],")):a.push(l.a.createElement("p",{key:a.length,className:"syntax-new-line"},'"',l.a.createElement("span",{className:"syntax-key"},n),'": ',"number"==typeof t[n]?l.a.createElement("span",{className:"syntax-number"},t[n]):l.a.createElement("span",{className:"syntax-string"},'"',t[n],'"'),a.length+1===Object.keys(t).length?"":","));return l.a.createElement("div",null,l.a.createElement("p",null,"{"),a,l.a.createElement("p",null,"}"))}},{key:"render",value:function(){return l.a.createElement("div",{className:"save-screen-wrapper fadeIn"},l.a.createElement("a",{className:"return-button",onClick:this.props.returnAction},l.a.createElement("i",{className:"material-icons"},"arrow_back"),"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"),l.a.createElement("div",{className:"card-panel teal z-depth-0"},l.a.createElement("span",{className:"white-text"},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u044b!")),l.a.createElement("h6",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435:"),l.a.createElement("pre",null,l.a.createElement("code",null,this.formatData(this.props.data))),l.a.createElement("h5",{className:"continue-header"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443?"),l.a.createElement("div",{className:"save-action"},l.a.createElement("a",{className:"waves-effect waves-light btn-large blue",onClick:this.copyInClipboard},l.a.createElement("i",{className:"material-icons"},"file_copy"),"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),l.a.createElement("span",null,"\u0438\u043b\u0438"),l.a.createElement("a",{className:"waves-effect waves-light btn-large indigo",onClick:this.saveFile},l.a.createElement("i",{className:"material-icons"},"cloud_download"),"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(l.a.Component),N=a(14),k=a.n(N),j=k.a.apps.length?k.a.app():k.a.initializeApp({apiKey:"AIzaSyB4S1fJ3teRiu6nNnfaDAJfanSq27Yu8ZU",authDomain:"permission-editor.firebaseapp.com",databaseURL:"https://permission-editor.firebaseio.com",projectId:"permission-editor",storageBucket:"permission-editor.appspot.com",messagingSenderId:"261584327480",appId:"1:261584327480:web:266eb7ba52da8a881ae7cd"}),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={isSaved:!1,savedData:null},a.getUserData=a.getUserData.bind(Object(f.a)(a)),a.cancelChanges=a.cancelChanges.bind(Object(f.a)(a)),a.applyChanges=a.applyChanges.bind(Object(f.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.database().ref("history").on("value",(function(t){t.val()&&e.setState({history:Object.values(t.val())})}))}},{key:"componentDidUpdate",value:function(){p.a.updateTextFields(),p.a.Range.init(document.querySelectorAll("input[type=range]")),p.a.Tooltip.init(document.querySelectorAll(".title-icon"),{position:"top"})}},{key:"getUserData",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://raw.githubusercontent.com/JustMonk/react-permission-editor/json/data.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({serverData:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"insertToDatabase",value:function(e){var t=j.database().ref().child("history").push().key;j.database().ref("history/"+t).set({id:e.id,name:e.name,email:e.email,config_bool:e.config_bool,timer_integer:e.timer_integer,flags:e.flags,activate_date:e.activate_date,update_date:e.update_date,timestamp:Date.now()})}},{key:"cancelChanges",value:function(){this.setState({serverData:null}),this.setState({isSaved:!1})}},{key:"applyChanges",value:function(){var e=!0,t={id:this.state.serverData.id};t.name=document.getElementById("user_name").value,t.email=document.getElementById("user_email").value;/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(t.email)||(e=!1,document.getElementById("user_email").classList.add("invalid")),t.config_bool=document.getElementById("config_bool").checked?"1":"0",t.timer_integer=Number(document.getElementById("timer_range").value),(t.timer_integer<100||t.timer_integer>1e3)&&(e=!1),t.flags=[],document.getElementById("flag_list").querySelector("table").tBodies[0].querySelectorAll("tr").forEach((function(e){t.flags.push(e.querySelector("input").checked?"1":"0")}));var a=new Date(document.getElementById("activate_date").value+" GMT");try{if(new Date(document.getElementById("activate_date").value)<new Date)throw new Error;t.activate_date=a.toISOString().split(".")[0]+"Z"}catch(l){e=!1,document.getElementById("activate_date").classList.add("invalid")}a=new Date(document.getElementById("update_date").value+" GMT");try{var n=a.toISOString();t.update_date="".concat(n.split("T")[0]," ").concat(n.split("T")[1].slice(0,8))}catch(l){e=!1,document.getElementById("update_date").classList.add("invalid")}e?(this.setState({savedData:JSON.stringify(t)}),this.setState({isSaved:!0}),this.insertToDatabase(t)):p.a.toast({html:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435!"})}},{key:"showCurrentForm",value:function(){return this.state.isSaved?l.a.createElement(w,{data:this.state.savedData,returnAction:this.cancelChanges}):l.a.createElement("div",{id:"editor-form"},l.a.createElement("div",{className:"row outside-wrapper fadeIn"},l.a.createElement("form",{className:"col s12"},l.a.createElement("div",{className:"input-title"},l.a.createElement("i",{className:"material-icons title-icon","data-tooltip":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430\u044f \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"},"help_outline"),"\u0421\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{disabled:!0,value:this.state.serverData.id,id:"disabled",type:"text",className:"validate"}),l.a.createElement("label",{htmlFor:"disabled"},"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"))),l.a.createElement("div",{className:"input-title"},l.a.createElement("i",{className:"material-icons title-icon","data-tooltip":"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"},"help_outline"),"\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"user_name",defaultValue:this.state.serverData.name,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",type:"text",className:"validate"}),l.a.createElement("label",{htmlFor:"user_name"},"\u0418\u043c\u044f")),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"user_email",defaultValue:this.state.serverData.email,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",type:"text",className:"validate"}),l.a.createElement("label",{htmlFor:"user_email"},"\u042d\u043b.\u043f\u043e\u0447\u0442\u0430"))),l.a.createElement("div",{className:"input-title"},l.a.createElement("i",{className:"material-icons title-icon","data-tooltip":"\u041f\u0440\u0430\u0432\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0432 \xabconfig_bool\xbb"},"help_outline"),"\u041e\u0441\u043e\u0431\u044b\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f:"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("div",{className:"switch",style:{display:"flex"}},"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440\u0443",l.a.createElement("label",null,+this.state.serverData.config_bool?l.a.createElement("input",{id:"config_bool",defaultChecked:!0,type:"checkbox"}):l.a.createElement("input",{id:"config_bool",type:"checkbox"}),l.a.createElement("span",{className:"lever"}))))),l.a.createElement("div",{className:"input-title"},l.a.createElement("i",{className:"material-icons title-icon","data-tooltip":"\u041f\u0435\u0440\u0435\u0434\u0432\u0438\u0433\u0430\u0439\u0442\u0435 \u043f\u043e\u043b\u0437\u0443\u043d\u043e\u043a \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"},"help_outline"),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0442\u0430\u0439\u043c\u0435\u0440\u0430:"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement(y,{id:"timer_range",min:"100",max:"1000",default:this.state.serverData.timer_integer}))),l.a.createElement("div",{className:"input-title"},l.a.createElement("i",{className:"material-icons title-icon","data-tooltip":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0434\u0430\u0442\u0443, \u043d\u0430\u0436\u0430\u0432 \u043d\u0430 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c, \u043b\u0438\u0431\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443. \u0427\u0430\u0441\u043e\u0432\u043e\u0439 \u043f\u043e\u044f\u0441 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e GMT +0"},"help_outline"),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438:"),l.a.createElement("div",{className:"row"},l.a.createElement(b,{id:"activate_date",label:"\u0414\u0430\u0442\u0430 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438",default:this.state.serverData.dateactivate,minDate:new Date,colSize:"6",type:"GMT",errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443, \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439"}),l.a.createElement(b,{id:"update_date",label:"\u0414\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",default:this.state.serverData.dateupdate,minDate:null,colSize:"6",errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0434\u0430\u0442\u0430"})),l.a.createElement("div",{className:"input-title"},l.a.createElement("i",{className:"material-icons title-icon","data-tooltip":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430"},"help_outline"),"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430:"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement(g,{id:"flag_list",flags:this.state.serverData.flags}))),l.a.createElement("div",{className:"form-action"},l.a.createElement("a",{className:"waves-effect waves-light btn-large",onClick:this.applyChanges},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),l.a.createElement("a",{className:"waves-effect waves-grey btn-flat btn-large white",onClick:this.cancelChanges},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"row outside-wrapper"},this.state.serverData?this.showCurrentForm():l.a.createElement("div",{id:"get-user",className:"action-message slideUp"},l.a.createElement("h5",null,"\u0428\u0430\u0433 1: \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),l.a.createElement("a",{className:"waves-effect waves-light btn-large",id:"start-button",onClick:this.getUserData},"\u041d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443")))}}]),t}(l.a.Component),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={history:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.database().ref("history").on("value",(function(t){t.val()&&e.setState({history:Object.values(t.val()).reverse()})})),p.a.Collapsible.init(document.querySelectorAll(".collapsible"),{})}},{key:"componentDidUpdate",value:function(){p.a.Collapsible.init(document.querySelectorAll(".collapsible"),{})}},{key:"render",value:function(){return l.a.createElement("div",{className:"row outside-wrapper fadeIn"},this.state.history.length<1?l.a.createElement("div",{id:"empty-history",className:"action-message"},l.a.createElement("h5",null,"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0443\u0441\u0442\u0430"),l.a.createElement("h6",null,"\u0421\u0442\u0430\u043d\u044c\u0442\u0435 \u043f\u0435\u0440\u0432\u043e\u043f\u0440\u043e\u0445\u043e\u0434\u0446\u0435\u043c :)")):l.a.createElement("div",{className:"expand-wrapper"},l.a.createElement("ul",{className:"collapsible"},this.state.history.map((function(e,t){return l.a.createElement("li",{key:"".concat(e.timestamp)},l.a.createElement("div",{className:"collapsible-header"},l.a.createElement("i",{className:"material-icons"},"history"),l.a.createElement("div",{className:"history-expand"},l.a.createElement("span",null,"\u0414\u0430\u0442\u0430: ",new Date(e.timestamp).toISOString()),l.a.createElement("span",null,"ID: ",e.id),l.a.createElement("span",null,"Name: ",e.name),l.a.createElement("span",null,"Editor: admin"))),l.a.createElement("div",{className:"collapsible-body"},l.a.createElement("p",null,"id: ",e.id),l.a.createElement("p",null,"name: ",e.name),l.a.createElement("p",null,"email: ",e.email),l.a.createElement("p",null,"config_bool: ",e.config_bool),l.a.createElement("p",null,"timer_integer: ",e.timer_integer),l.a.createElement("p",null,"flags: ",e.flags),l.a.createElement("p",null,"activate_date: ",e.activate_date),l.a.createElement("p",null,"update_date: ",e.update_date),l.a.createElement("p",null,"timestamp: ",e.timestamp)))})))))}}]),t}(l.a.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={historyRecords:0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.Tabs.init(document.querySelector(".tabs"),{}),j.database().ref("history").on("value",(function(t){t.val()&&e.setState({historyRecords:Object.values(t.val()).length?Object.values(t.val()).length:0})}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"row outside-wrapper"},l.a.createElement("div",{className:"col s8"},l.a.createElement("ul",{className:"tabs"},l.a.createElement("li",{className:"tab col s3"},l.a.createElement("a",{href:"#editor-wrapper"},"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440")),l.a.createElement("li",{className:"tab col s3"},l.a.createElement("a",{href:"#history-wrapper"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f (",this.state.historyRecords,")")))),l.a.createElement("div",{id:"editor-wrapper",className:"col s12"},l.a.createElement(O,null)),l.a.createElement("div",{id:"history-wrapper",className:"col s12"},l.a.createElement(D,null)))}}]),t}(l.a.Component),_=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"card-wrapper container"},l.a.createElement("div",{className:"card-panel white"},l.a.createElement("h5",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),l.a.createElement(S,null)))}}]),t}(l.a.Component);var C=function(e){return l.a.createElement("div",{className:"dummy-nav z-depth-1"},l.a.createElement("div",{className:"container nav-content"},l.a.createElement("div",{className:"nav-title"},"React PE"),l.a.createElement("div",{className:"nav-user"},l.a.createElement("div",{className:"user-info"},l.a.createElement("svg",{width:"80",height:"14"},l.a.createElement("rect",{width:"100%",height:"100%"})),l.a.createElement("svg",{width:"45",height:"14"},l.a.createElement("rect",{width:"100%",height:"100%"}))),l.a.createElement("div",{className:"user-avatar"},l.a.createElement("img",{src:"img/avatar.jpg",alt:"user-avatar"})))))},x=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(C,null),l.a.createElement("header",{className:"App-header"},l.a.createElement("h4",null,"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f")),l.a.createElement(_,null))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.06ad181e.chunk.js.map