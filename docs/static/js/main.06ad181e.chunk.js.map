{"version":3,"sources":["components/DatePicker.js","components/Range.js","components/SwitchList.js","components/SaveScreen.js","components/firebase-config.js","components/EditorForm.js","components/HistoryLog.js","components/Tabs.js","components/Card.js","components/Navbar.js","App.js","serviceWorker.js","index.js"],"names":["DatePicker","props","pickerRef","React","createRef","state","defaultDate","dateView","default","minDate","currentDate","currentTime","bind","this","M","Datepicker","init","current","Date","firstDay","onSelect","date","selectedDate","setHours","setMinutes","setSeconds","el","parentElement","querySelector","value","onClose","timePick","Timepicker","twelveHour","onCloseStart","time","addTime","timeStr","timeArr","split","destroy","i18n","cancel","done","open","onOpen","classList","remove","months","monthsShort","weekdays","weekdaysShort","weekdaysAbbrev","updateTextFields","datePickerInit","utcStr","type","dateObj","toDateString","toTimeString","slice","toISOString","userDate","userTime","className","colSize","id","placeholder","defaultValue","htmlFor","label","ref","data-error","errorText","Component","Range","document","querySelectorAll","e","target","innerHTML","min","max","onChange","showCurrentValue","SwitchList","list","flags","isIncrease","addRow","deleteLastRow","setState","currentList","push","pop","map","val","i","checkbox","defaultChecked","key","length","getRows","onClick","SaveScreen","json","data","copyInClipboard","saveFile","file","Blob","window","navigator","msSaveOrOpenBlob","a","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","clipboard","writeText","then","toast","html","err","obj","JSON","parse","formatted","Array","isArray","join","Object","keys","returnAction","formatData","firebase","apps","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","EditorForm","isSaved","savedData","getUserData","cancelChanges","applyChanges","database","on","snapshot","history","values","Tooltip","position","fetch","response","userData","serverData","console","log","newPostKey","child","set","name","email","config_bool","timer_integer","activate_date","update_date","timestamp","now","isValid","responseObj","getElementById","test","add","checked","Number","tBodies","forEach","userInputDate","Error","iso","stringify","insertToDatabase","data-tooltip","disabled","style","display","dateactivate","dateupdate","showCurrentForm","HistoryLog","reverse","Collapsible","Tabs","historyRecords","Card","Navbar","width","height","src","alt","App","Boolean","location","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"6WAyHeA,E,YApHZ,WAAYC,GAAQ,IAAD,8BAChB,4CAAMA,KACDC,UAAYC,IAAMC,YACvB,EAAKC,MAAQ,CACVC,YAAa,EAAKC,SAAS,EAAKN,MAAMO,SACtCC,QAAS,EAAKR,MAAMQ,QAAU,EAAKR,MAAMQ,QAAU,KACnDC,YAAa,KACbC,YAAa,MAEhB,EAAKJ,SAAW,EAAKA,SAASK,KAAd,gBATA,E,8EAchB,IAAIL,EAAWM,KAAKN,SAEpBO,IAAEC,WAAWC,KAAKH,KAAKX,UAAUe,QAAS,CACvCX,YAAa,IAAIY,KACjBC,SAAU,EACVV,QAASI,KAAKR,MAAMI,QACpBW,SAAU,SAAUC,GACjB,IAAIC,EAAeT,KAAKQ,KAExBC,EAAaC,SAAS,GACtBD,EAAaE,WAAW,GACxBF,EAAaG,WAAW,GAExBZ,KAAKa,GAAGC,cAAcC,cAAc,SAASC,MAAQtB,EAASe,IAEjEQ,QAAS,WAAa,IAAD,OAClB,GAAKjB,KAAKQ,KAAV,CACA,IAAIU,EAAWjB,IAAEkB,WAAWhB,KAAKH,KAAKa,GAAI,CACvCO,YAAY,EACZC,aAAc,WACNH,EAASI,MAId,EAAKC,QAAU,SAAUC,GACtB,IAAIf,EAAe,IAAIJ,KAAKL,KAAKQ,MAC7BiB,EAAUD,EAAQE,MAAM,KAE5BjB,EAAaC,SAASe,EAAQ,IAC9BhB,EAAaE,WAAWc,EAAQ,IAChChB,EAAaG,WAAWa,EAAQ,IAEhCzB,KAAKa,GAAGC,cAAcC,cAAc,SAASC,MAAQtB,EAASe,IAEjE,EAAKc,QAAQL,EAASI,KAAOJ,EAASI,KAAO,MAAQ,IACrDJ,EAASS,WAdNT,EAASS,WAgBfC,KAAM,CACHC,OAAQ,uCACRC,KAAM,oCAGZZ,EAASa,SAEZC,OAAQ,WACLhC,KAAKa,GAAGC,cAAcC,cAAc,SAASkB,UAAUC,OAAO,YAEjEN,KAAM,CACHO,OAAQ,CAAC,uCAAU,6CAAW,2BAAQ,uCAAU,qBAAO,2BAAQ,2BAAQ,iCAAS,mDAAY,6CAAW,uCAAU,8CACjHC,YAAa,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,sBAC3FC,SAAU,CAAC,qEAAe,qEAAe,6CAAW,iCAAS,6CAAW,6CAAW,8CACnFC,cAAe,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBACpDC,eAAgB,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAC/CV,OAAQ,uCACRC,KAAM,sC,0CAOZ7B,IAAEuC,mBAEFxC,KAAKyC,mB,2CAKLxC,IAAEuC,qB,+BAGIhC,GACN,IAAIkC,EAEJ,GAAwB,QAApB1C,KAAKZ,MAAMuD,MAAmC,kBAAVnC,EACrCkC,EAASlC,MACL,CACJ,IAAIoC,EAAU,IAAIvC,KAAKG,GACvBkC,EAAS,IAAIrC,KAAJ,UAAYuC,EAAQC,eAApB,YAAsCD,EAAQE,eAAeC,MAAM,EAAG,GAAtE,SAAgFC,cAG5F,IAAIC,EAAWP,EAAOhB,MAAM,KAAK,GAE7BwB,EAAWR,EAAOhB,MAAM,KAAK,GAGjC,OAFAwB,EAAWA,EAASH,MAAM,EAAG,GAEvB,GAAN,OAAUE,EAAV,aAAuBC,K,+BAIvB,OACG,yBAAKC,UAAW,oBAAsBnD,KAAKZ,MAAMgE,SAC9C,2BAAOC,GAAIrD,KAAKZ,MAAMiE,GAAIV,KAAK,OAAOW,YAAY,0IAA4BH,UAAU,WAAWI,aAAcvD,KAAKR,MAAMC,cAC5H,2BAAO+D,QAASxD,KAAKZ,MAAMiE,IAAKrD,KAAKZ,MAAMqE,OAC3C,uBAAGN,UAAU,mCAAmCO,IAAK1D,KAAKX,WAA1D,kBACA,0BAAM8D,UAAU,0BAA0BQ,aAAY3D,KAAKZ,MAAMwE,iB,GA/GpDtE,IAAMuE,WCyChBC,E,YAvCZ,WAAY1E,GAAQ,IAAD,8BAChB,4CAAMA,KACDI,MAAQ,GAFG,E,iFAOhBS,IAAEuC,mBAEFvC,IAAE6D,MAAM3D,KAAK4D,SAASC,iBAAiB,wB,2CAKvC/D,IAAEuC,mBAEFvC,IAAE6D,MAAM3D,KAAK4D,SAASC,iBAAiB,wB,uCAGzBC,GACQA,EAAEC,OAAOpD,cAAcC,cAAc,kBAC3CoD,UAAYF,EAAEC,OAAOlD,Q,+BAIrC,OACG,uBAAGmC,UAAU,eACV,uBAAGA,UAAU,gBACV,8BAAOnD,KAAKZ,MAAMgF,KAClB,0IAA0B,0BAAMjB,UAAU,iBAAiBnD,KAAKZ,MAAMO,UACtE,8BAAOK,KAAKZ,MAAMiF,MAErB,2BAAO1B,KAAK,QAAQU,GAAIrD,KAAKZ,MAAMiE,GAAIE,aAAcvD,KAAKZ,MAAMO,QAASyE,IAAKpE,KAAKZ,MAAMgF,IAAKC,IAAKrE,KAAKZ,MAAMiF,IAAKC,SAAUtE,KAAKuE,wB,GAlC1HjF,IAAMuE,WCuEXW,E,YAtEZ,WAAYpF,GAAQ,IAAD,8BAChB,4CAAMA,KACDI,MAAQ,CACViF,KAAM,EAAKrF,MAAMsF,MACjBC,YAAY,GAEf,EAAKC,OAAS,EAAKA,OAAO7E,KAAZ,gBACd,EAAK8E,cAAgB,EAAKA,cAAc9E,KAAnB,gBAPL,E,sEAWhBC,KAAK8E,SAAS,CAACH,YAAY,IAC3B,IAAII,EAAc/E,KAAKR,MAAMiF,KAC7BM,EAAYC,KAAK,KACjBhF,KAAK8E,SAAS,CAACL,KAAMM,M,sCAIrB/E,KAAK8E,SAAS,CAACH,YAAY,IAC3B,IAAII,EAAc/E,KAAKR,MAAMiF,KAC7BM,EAAYE,MACZjF,KAAK8E,SAAS,CAACL,KAAMM,M,gCAGb,IAAD,OACP,OAAO/E,KAAKR,MAAMiF,KAAKS,KAAI,SAACC,EAAKC,GAC9B,IAAIC,GAAYF,EAAM,2BAAOG,gBAAc,EAAC3C,KAAK,aAAsB,2BAAOA,KAAK,aACnF,OACG,wBAAI4C,IAAKH,EAAGjC,UAAW,EAAK3D,MAAMmF,YAAc,EAAKnF,MAAMiF,KAAKe,OAAO,IAAMJ,EAAI,SAAW,IACzF,gHAAqBA,EAAI,GACzB,4BAAI,yBAAKjC,UAAU,UAChB,+BACIkC,EACD,0BAAMlC,UAAU,mB,+BAS/B,OACG,yBAAKE,GAAIrD,KAAKZ,MAAMiE,GAAIF,UAAU,uBAC/B,+BACG,+BACG,4BACG,6FAECnD,KAAKR,MAAMiF,KAAKe,OAAS,EAAI,GAAK,yFAIzC,+BAEIxF,KAAKR,MAAMiF,KAAKe,OAAS,EAAI,4BAAI,0QAA4DxF,KAAKyF,YAIzG,yBAAKtC,UAAU,gBACZ,uBAAGA,UAAU,aAAauC,QAAS1F,KAAK4E,QAAxC,yFACA,uBAAGzB,UAAU,aAAauC,QAAS1F,KAAK6E,eAAxC,2G,GA/DUvF,IAAMuE,WCwFhB8B,E,YArFZ,WAAYvG,GAAQ,IAAD,8BAChB,4CAAMA,KACDI,MAAQ,CACVoG,KAAM,EAAKxG,MAAMyG,MAEpB,EAAKC,gBAAkB,EAAKA,gBAAgB/F,KAArB,gBACvB,EAAKgG,SAAW,EAAKA,SAAShG,KAAd,gBANA,E,wEAUhB,IAAIiG,EAAO,IAAIC,KAAK,CAACjG,KAAKR,MAAMoG,MAAO,CAAEjD,KAAM,qBAC/C,GAAIuD,OAAOC,UAAUC,iBAClBF,OAAOC,UAAUC,iBAAiBJ,EAAM,qBACtC,CACF,IAAIK,EAAItC,SAASuC,cAAc,KAC5BC,EAAMC,IAAIC,gBAAgBT,GAC7BK,EAAEK,KAAOH,EACTF,EAAEM,SAAW,gBACb5C,SAAS6C,KAAKC,YAAYR,GAC1BA,EAAES,QACFC,YAAW,WACRhD,SAAS6C,KAAKI,YAAYX,GAC1BH,OAAOM,IAAIS,gBAAgBV,KAC3B,M,wCAKNJ,UAAUe,UAAUC,UAAUnH,KAAKR,MAAMoG,MAAMwB,MAAK,WACjDnH,IAAEoH,MAAM,CAAEC,KAAM,6CAChB,SAAUC,GACVtH,IAAEoH,MAAM,CAAEC,KAAM,qI,iCAIX1B,GACR,IAAI4B,EAAMC,KAAKC,MAAM9B,GACjB+B,EAAY,GAChB,IAAK,IAAIpC,KAAOiC,EACTI,MAAMC,QAAQL,EAAIjC,IACnBoC,EAAU3C,KAAK,uBAAGO,IAAKoC,EAAUnC,OAAQrC,UAAU,mBAApC,IAAuD,0BAAMA,UAAU,cAAcoC,GAArF,OAAqGiC,EAAIjC,GAAKL,KAAI,SAAAC,GAAG,MAAoB,iBAARA,EAAR,UAA8BA,GAA9B,WAA0CA,EAA1C,QAAkD2C,KAAK,KAAhL,OAGlBH,EAAU3C,KAAK,uBAAGO,IAAKoC,EAAUnC,OAAQrC,UAAU,mBAApC,IAAuD,0BAAMA,UAAU,cAAcoC,GAArF,MAAyH,iBAAbiC,EAAIjC,GAAoB,0BAAMpC,UAAU,iBAAiBqE,EAAIjC,IAAe,0BAAMpC,UAAU,iBAAhB,IAAkCqE,EAAIjC,GAAtC,KACnMoC,EAAUnC,OAAS,IAAMuC,OAAOC,KAAKR,GAAKhC,OAAS,GAAK,MAG/D,OACG,6BACG,2BAAI,KACHmC,EACD,2BAAI,Q,+BAMV,OACG,yBAAKxE,UAAU,8BAEZ,uBAAGA,UAAU,gBAAgBuC,QAAS1F,KAAKZ,MAAM6I,cAAc,uBAAG9E,UAAU,kBAAb,cAA/D,0DAEA,yBAAKA,UAAU,6BACZ,0BAAMA,UAAU,cAAhB,qIAGH,uHAEA,6BACG,8BAAOnD,KAAKkI,WAAWlI,KAAKZ,MAAMyG,QAGrC,wBAAI1C,UAAU,mBAAd,sGACA,yBAAKA,UAAU,eACZ,uBAAGA,UAAU,0CAA0CuC,QAAS1F,KAAK8F,iBAAiB,uBAAG3C,UAAU,kBAAb,aAAtF,sEACA,oDACA,uBAAGA,UAAU,4CAA4CuC,QAAS1F,KAAK+F,UAAU,uBAAG5C,UAAU,kBAAb,kBAAjF,gE,GA9EU7D,IAAMuE,W,iBCWhB,EAACsE,IAASC,KAAK5C,OAAkD2C,IAASE,MAAlDF,IAASG,cAVzB,CACpBC,OAAQ,0CACRC,WAAY,oCACZC,YAAa,2CACbC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,8CC0NKC,E,YA3NZ,WAAY1J,GAAQ,IAAD,8BAChB,4CAAMA,KACDI,MAAQ,CACVuJ,SAAS,EACTC,UAAW,MAEd,EAAKC,YAAc,EAAKA,YAAYlJ,KAAjB,gBACnB,EAAKmJ,cAAgB,EAAKA,cAAcnJ,KAAnB,gBACrB,EAAKoJ,aAAe,EAAKA,aAAapJ,KAAlB,gBARJ,E,iFAWE,IAAD,OACAoI,EAASiB,WAAW1F,IAAI,WAC9B2F,GAAG,SAAS,SAACC,GAChBA,EAASnE,OACd,EAAKL,SAAS,CAAEyE,QAASxB,OAAOyB,OAAOF,EAASnE,c,2CAMnDlF,IAAEuC,mBAEFvC,IAAE6D,MAAM3D,KAAK4D,SAASC,iBAAiB,sBAEvC/D,IAAEwJ,QAAQtJ,KAAK4D,SAASC,iBAAiB,eAAgB,CAAE0F,SAAU,U,+KAK7CC,MAAM,qF,cAAvBC,E,gBACiBA,EAAShE,O,OAA1BiE,E,OACJ7J,KAAK8E,SAAS,CAAEgF,WAAYD,I,kDAE5BE,QAAQC,IAAR,M,uJAIWxC,GAEd,IAAIyC,EAAa9B,EAASiB,WAAW1F,MAAMwG,MAAM,WAAWlF,OAAOO,IACnE4C,EAASiB,WAAW1F,IAAI,WAAauG,GAAYE,IAAI,CAClD9G,GAAImE,EAAInE,GACR+G,KAAM5C,EAAI4C,KACVC,MAAO7C,EAAI6C,MACXC,YAAa9C,EAAI8C,YACjBC,cAAe/C,EAAI+C,cACnB7F,MAAO8C,EAAI9C,MACX8F,cAAehD,EAAIgD,cACnBC,YAAajD,EAAIiD,YACjBC,UAAWrK,KAAKsK,U,sCAKnB3K,KAAK8E,SAAS,CAAEgF,WAAY,OAC5B9J,KAAK8E,SAAS,CAAEiE,SAAS,M,qCAKzB,IAAI6B,GAAU,EAEVC,EAAc,CAAExH,GAAIrD,KAAKR,MAAMsK,WAAWzG,IAE9CwH,EAAYT,KAAOrG,SAAS+G,eAAe,aAAa9J,MAExD6J,EAAYR,MAAQtG,SAAS+G,eAAe,cAAc9J,MAC7C,yHACD+J,KAAKF,EAAYR,SAC1BO,GAAU,EACV7G,SAAS+G,eAAe,cAAc7I,UAAU+I,IAAI,YAGvDH,EAAYP,YAAcvG,SAAS+G,eAAe,eAAeG,QAAU,IAAM,IAEjFJ,EAAYN,cAAgBW,OAAOnH,SAAS+G,eAAe,eAAe9J,QACtE6J,EAAYN,cAAgB,KAAOM,EAAYN,cAAgB,OAAMK,GAAU,GAEnFC,EAAYnG,MAAQ,GACJX,SAAS+G,eAAe,aAAa/J,cAAc,SAASoK,QAAQ,GAC1EnH,iBAAiB,MAAMoH,SAAQ,SAAAjG,GACtC0F,EAAYnG,MAAMM,KAAKG,EAAIpE,cAAc,SAASkK,QAAU,IAAM,QAGrE,IAAII,EAAgB,IAAIhL,KAAK0D,SAAS+G,eAAe,iBAAiB9J,MAAQ,QAC9E,IACG,GAAI,IAAIX,KAAK0D,SAAS+G,eAAe,iBAAiB9J,OAAS,IAAIX,KAAQ,MAAM,IAAIiL,MACrFT,EAAYL,cAAgBa,EAAcrI,cAActB,MAAM,KAAK,GAAK,IACzE,MAAOuC,GACN2G,GAAU,EACV7G,SAAS+G,eAAe,iBAAiB7I,UAAU+I,IAAI,WAG1DK,EAAgB,IAAIhL,KAAK0D,SAAS+G,eAAe,eAAe9J,MAAQ,QACxE,IACG,IAAIuK,EAAMF,EAAcrI,cACxB6H,EAAYJ,YAAZ,UAA6Bc,EAAI7J,MAAM,KAAK,GAA5C,YAAkD6J,EAAI7J,MAAM,KAAK,GAAGqB,MAAM,EAAG,IAC9E,MAAOkB,GACN2G,GAAU,EACV7G,SAAS+G,eAAe,eAAe7I,UAAU+I,IAAI,WAGpDJ,GACD5K,KAAK8E,SAAS,CAAEkE,UAAWvB,KAAK+D,UAAUX,KAC1C7K,KAAK8E,SAAS,CAAEiE,SAAS,IACzB/I,KAAKyL,iBAAiBZ,IAEtB5K,IAAEoH,MAAM,CAAEC,KAAM,uN,wCAKnB,OAAItH,KAAKR,MAAMuJ,QAET,kBAAC,EAAD,CAAYlD,KAAM7F,KAAKR,MAAMwJ,UAAWf,aAAcjI,KAAKkJ,gBAI3D,yBAAK7F,GAAG,eAEL,yBAAKF,UAAU,8BACZ,0BAAMA,UAAU,WAEb,yBAAKA,UAAU,eAAc,uBAAGA,UAAU,4BAA4BuI,eAAa,4OAAtD,gBAA7B,gGACA,yBAAKvI,UAAU,OACZ,yBAAKA,UAAU,uBACZ,2BAAOwI,UAAQ,EAAC3K,MAAOhB,KAAKR,MAAMsK,WAAWzG,GAAIA,GAAG,WAAWV,KAAK,OAAOQ,UAAU,aACrF,2BAAOK,QAAQ,YAAf,oFAKN,yBAAKL,UAAU,eAAc,uBAAGA,UAAU,4BAA4BuI,eAAa,6OAAtD,gBAA7B,8EACA,yBAAKvI,UAAU,OACZ,yBAAKA,UAAU,sBACZ,2BAAOE,GAAG,YAAYE,aAAcvD,KAAKR,MAAMsK,WAAWM,KAAM9G,YAAY,yIAA2BX,KAAK,OAAOQ,UAAU,aAC7H,2BAAOK,QAAQ,aAAf,uBAEH,yBAAKL,UAAU,sBACZ,2BAAOE,GAAG,aAAaE,aAAcvD,KAAKR,MAAMsK,WAAWO,MAAO/G,YAAY,8KAAkCX,KAAK,OAAOQ,UAAU,aACtI,2BAAOK,QAAQ,cAAf,iDAIN,yBAAKL,UAAU,eAAc,uBAAGA,UAAU,4BAA4BuI,eAAa,iQAAtD,gBAA7B,sGACA,yBAAKvI,UAAU,OACZ,yBAAKA,UAAU,uBACZ,yBAAKA,UAAU,SAASyI,MAAO,CAAEC,QAAS,SAA1C,6HAEG,gCACK7L,KAAKR,MAAMsK,WAAWQ,YAAc,2BAAOjH,GAAG,cAAciC,gBAAc,EAAC3C,KAAK,aAAsB,2BAAOU,GAAG,cAAcV,KAAK,aACrI,0BAAMQ,UAAU,cAO5B,yBAAKA,UAAU,eAAc,uBAAGA,UAAU,4BAA4BuI,eAAa,wPAAtD,gBAA7B,sGACA,yBAAKvI,UAAU,OACZ,yBAAKA,UAAU,uBACZ,kBAAC,EAAD,CAAOE,GAAG,cAAce,IAAI,MAAMC,IAAI,OAAO1E,QAASK,KAAKR,MAAMsK,WAAWS,kBAKlF,yBAAKpH,UAAU,eAAc,uBAAGA,UAAU,4BAA4BuI,eAAa,0fAAtD,gBAA7B,sGACA,yBAAKvI,UAAU,OACZ,kBAAC,EAAD,CAAYE,GAAG,gBAAgBI,MAAM,kFAAiB9D,QAASK,KAAKR,MAAMsK,WAAWgC,aAAclM,QAAS,IAAIS,KAAQ+C,QAAQ,IAAIT,KAAM,MAAOiB,UAAW,sNAC5J,kBAAC,EAAD,CAAYP,GAAG,cAAcI,MAAM,wFAAkB9D,QAASK,KAAKR,MAAMsK,WAAWiC,WAAYnM,QAAS,KAAMwD,QAAQ,IAAIQ,UAAW,uGAKzI,yBAAKT,UAAU,eAAc,uBAAGA,UAAU,4BAA4BuI,eAAa,0VAAtD,gBAA7B,sGACA,yBAAKvI,UAAU,OACZ,yBAAKA,UAAU,uBAEZ,kBAAC,EAAD,CAAYE,GAAG,YAAYqB,MAAO1E,KAAKR,MAAMsK,WAAWpF,UAK9D,yBAAKvB,UAAU,eACZ,uBAAGA,UAAU,qCAAqCuC,QAAS1F,KAAKmJ,cAAhE,0DACA,uBAAGhG,UAAU,mDAAmDuC,QAAS1F,KAAKkJ,eAA9E,iH,+BAWlB,OACG,yBAAK/F,UAAU,uBAEVnD,KAAKR,MAAMsK,WAUV9J,KAAKgM,kBARL,yBAAK3I,GAAG,WAAWF,UAAU,0BAE1B,0NACA,uBAAGA,UAAU,qCAAqCE,GAAG,eAAeqC,QAAS1F,KAAKiJ,aAAlF,mF,GA/MO3J,IAAMuE,WC0EhBoI,E,YA5EZ,WAAY7M,GAAQ,IAAD,8BAChB,4CAAMA,KACDI,MAAQ,CACV+J,QAAS,IAHI,E,iFAOE,IAAD,OACApB,EAASiB,WAAW1F,IAAI,WAC9B2F,GAAG,SAAS,SAACC,GAChBA,EAASnE,OACd,EAAKL,SAAS,CAAEyE,QAASxB,OAAOyB,OAAOF,EAASnE,OAAO+G,eAE1DjM,IAAEkM,YAAYhM,KAAK4D,SAASC,iBAAiB,gBAAiB,M,2CAI9D/D,IAAEkM,YAAYhM,KAAK4D,SAASC,iBAAiB,gBAAiB,M,+BAI9D,OAEG,yBAAKb,UAAU,8BAEXnD,KAAKR,MAAM+J,QAAQ/D,OAAS,EAC1B,yBAAKnC,GAAG,gBAAgBF,UAAU,kBAC/B,gMACA,mKAKH,yBAAKA,UAAU,kBAEZ,wBAAIA,UAAU,eAEVnD,KAAKR,MAAM+J,QAAQrE,KAAI,SAACC,EAAKC,GAC3B,OACG,wBAAIG,IAAG,UAAKJ,EAAIuF,YAEb,yBAAKvH,UAAU,sBACZ,uBAAGA,UAAU,kBAAb,WACA,yBAAKA,UAAU,kBACf,2DAAa,IAAI9C,KAAK8E,EAAIuF,WAAW1H,eACrC,qCAAWmC,EAAI9B,IACf,uCAAa8B,EAAIiF,MACjB,iDAIH,yBAAKjH,UAAU,oBACZ,kCAAQgC,EAAI9B,IACZ,oCAAU8B,EAAIiF,MACd,qCAAWjF,EAAIkF,OACf,2CAAiBlF,EAAImF,aACrB,6CAAmBnF,EAAIoF,eACvB,qCAAWpF,EAAIT,OACf,6CAAmBS,EAAIqF,eACvB,2CAAiBrF,EAAIsF,aACrB,yCAAetF,EAAIuF,uB,GA9D3BpL,IAAMuE,WC6ChBuI,E,YA1CZ,WAAYhN,GAAQ,IAAD,8BAChB,4CAAMA,KACDI,MAAQ,CACV6M,eAAgB,GAHH,E,iFAOE,IAAD,OACjBpM,IAAEmM,KAAKjM,KAAK4D,SAAShD,cAAc,SAAU,IAE5BoH,EAASiB,WAAW1F,IAAI,WAC9B2F,GAAG,SAAS,SAACC,GAChBA,EAASnE,OACd,EAAKL,SAAS,CAAEuH,eAAgBtE,OAAOyB,OAAOF,EAASnE,OAAOK,OAASuC,OAAOyB,OAAOF,EAASnE,OAAOK,OAAS,S,+BAKjH,OACG,yBAAKrC,UAAU,uBAEZ,yBAAKA,UAAU,UACZ,wBAAIA,UAAU,QACX,wBAAIA,UAAU,cAAa,uBAAGuD,KAAK,mBAAR,qDAC3B,wBAAIvD,UAAU,cAAa,uBAAGuD,KAAK,oBAAR,+CAAqC1G,KAAKR,MAAM6M,eAAhD,QAIjC,yBAAKhJ,GAAG,iBAAiBF,UAAU,WAChC,kBAAC,EAAD,OAGH,yBAAKE,GAAG,kBAAkBF,UAAU,WACjC,kBAAC,EAAD,Y,GAlCI7D,IAAMuE,WCcVyI,E,iLAdT,OACG,yBAAKnJ,UAAU,0BACZ,yBAAKA,UAAU,oBACZ,4NAEA,kBAAC,EAAD,Y,GARI7D,IAAMuE,WCoBV0I,MArBf,SAAgBnN,GACZ,OACI,yBAAK+D,UAAU,uBACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,aAAf,YACA,yBAAKA,UAAU,YAEX,yBAAKA,UAAU,aACX,yBAAKqJ,MAAM,KAAKC,OAAO,MAAK,0BAAMD,MAAM,OAAOC,OAAO,UACtD,yBAAKD,MAAM,KAAKC,OAAO,MAAK,0BAAMD,MAAM,OAAOC,OAAO,WAG1D,yBAAKtJ,UAAU,eACX,yBAAKuJ,IAAI,iBAAiBC,IAAI,qBCMvCC,E,iLAZT,OACG,yBAAKzJ,UAAU,OACb,kBAAC,EAAD,MACC,4BAAQA,UAAU,cACf,kIAEH,kBAAC,EAAD,W,GARM7D,IAAMuE,WCKJgJ,QACW,cAA7B3G,OAAO4G,SAASC,UAEe,UAA7B7G,OAAO4G,SAASC,UAEhB7G,OAAO4G,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASnJ,SAAS+G,eAAe,SD2H3C,kBAAmB3E,WACrBA,UAAUgH,cAAcC,MAAMhG,MAAK,SAAAiG,GACjCA,EAAaC,kB","file":"static/js/main.06ad181e.chunk.js","sourcesContent":["import React from 'react';\r\nimport M from 'materialize-css';\r\n\r\nclass DatePicker extends React.Component {\r\n\r\n   constructor(props) {\r\n      super(props);\r\n      this.pickerRef = React.createRef();\r\n      this.state = {\r\n         defaultDate: this.dateView(this.props.default),\r\n         minDate: this.props.minDate ? this.props.minDate : null,\r\n         currentDate: null,\r\n         currentTime: null\r\n      };\r\n      this.dateView = this.dateView.bind(this);\r\n   }\r\n\r\n   datePickerInit() {\r\n      //контекст\r\n      let dateView = this.dateView;\r\n\r\n      M.Datepicker.init(this.pickerRef.current, {\r\n         defaultDate: new Date(),\r\n         firstDay: 1,\r\n         minDate: this.state.minDate,\r\n         onSelect: function (date) {\r\n            let selectedDate = this.date;\r\n\r\n            selectedDate.setHours(0);\r\n            selectedDate.setMinutes(0);\r\n            selectedDate.setSeconds(0);\r\n\r\n            this.el.parentElement.querySelector('input').value = dateView(selectedDate);\r\n         },\r\n         onClose: function () {\r\n            if (!this.date) return;\r\n            let timePick = M.Timepicker.init(this.el, {\r\n               twelveHour: false,\r\n               onCloseStart: () => {\r\n                  if (!timePick.time) {\r\n                     timePick.destroy();\r\n                     return;\r\n                  }\r\n                  this.addTime = function (timeStr) {\r\n                     let selectedDate = new Date(this.date);\r\n                     let timeArr = timeStr.split(':');\r\n\r\n                     selectedDate.setHours(timeArr[0]);\r\n                     selectedDate.setMinutes(timeArr[1]);\r\n                     selectedDate.setSeconds(timeArr[2]);\r\n\r\n                     this.el.parentElement.querySelector('input').value = dateView(selectedDate);\r\n                  }\r\n                  this.addTime(timePick.time ? timePick.time + ':00' : '');\r\n                  timePick.destroy();\r\n               },\r\n               i18n: {\r\n                  cancel: 'Отмена',\r\n                  done: 'Выбор'\r\n               }\r\n            });\r\n            timePick.open();\r\n         },\r\n         onOpen: function() {\r\n            this.el.parentElement.querySelector('input').classList.remove('invalid');\r\n         },\r\n         i18n: {\r\n            months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Авгус', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n            monthsShort: ['Янв', 'Фев', 'Мар', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],\r\n            weekdays: ['Воскресеньк', 'Понедельник', 'Вторник', 'Среда', 'Черверг', 'Пятница', 'Суббота'],\r\n            weekdaysShort: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\r\n            weekdaysAbbrev: ['В', 'П', 'В', 'С', 'Ч', 'П', 'С'],\r\n            cancel: 'Отмена',\r\n            done: 'Выбор'\r\n         }\r\n      });\r\n   }\r\n\r\n   componentDidMount() {\r\n      //reset placeholders\r\n      M.updateTextFields();\r\n      //reinit\r\n      this.datePickerInit();\r\n   }\r\n\r\n   componentDidUpdate() {\r\n      //reset placeholders\r\n      M.updateTextFields();\r\n   }\r\n\r\n   dateView(date) {\r\n      let utcStr;\r\n\r\n      if (this.props.type === \"GMT\" && typeof(date) === 'string') {\r\n         utcStr = date;\r\n      } else {\r\n         let dateObj = new Date(date);\r\n         utcStr = new Date(`${dateObj.toDateString()} ${dateObj.toTimeString().slice(0, 8)} GMT`).toISOString();\r\n      }\r\n\r\n      let userDate = utcStr.split('T')[0];\r\n\r\n      let userTime = utcStr.split('T')[1];\r\n      userTime = userTime.slice(0, 8);\r\n\r\n      return `${userDate}, ${userTime}`;\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div className={'input-field col s' + this.props.colSize}>\r\n            <input id={this.props.id} type=\"text\" placeholder=\"введите или выберите дату\" className=\"validate\" defaultValue={this.state.defaultDate}></input>\r\n            <label htmlFor={this.props.id}>{this.props.label}</label>\r\n            <i className=\"material-icons input-date-picker\" ref={this.pickerRef}>calendar_today</i>\r\n            <span className=\"helper-text date-helper\" data-error={this.props.errorText}></span>\r\n         </div>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default DatePicker;","import React from 'react';\r\nimport M from 'materialize-css';\r\n\r\nclass Range extends React.Component {\r\n\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {};\r\n   }\r\n\r\n   componentDidMount() {\r\n      //reset placeholders\r\n      M.updateTextFields();\r\n      //reinit\r\n      M.Range.init(document.querySelectorAll(\"input[type=range]\"));\r\n   }\r\n\r\n   componentDidUpdate() {\r\n      //reset placeholders\r\n      M.updateTextFields();\r\n      //reinit\r\n      M.Range.init(document.querySelectorAll(\"input[type=range]\"));\r\n   }\r\n\r\n   showCurrentValue(e) {\r\n       let valueContainer = e.target.parentElement.querySelector('.current-value');\r\n       valueContainer.innerHTML = e.target.value;\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <p className=\"range-field\">\r\n            <p className=\"range-helper\">\r\n               <span>{this.props.min}</span>\r\n               <span>Выбранное значение: <span className=\"current-value\">{this.props.default}</span></span>\r\n               <span>{this.props.max}</span>\r\n            </p>\r\n            <input type=\"range\" id={this.props.id} defaultValue={this.props.default} min={this.props.min} max={this.props.max} onChange={this.showCurrentValue} />\r\n         </p>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default Range;","import React from 'react';\r\n\r\nclass SwitchList extends React.Component {\r\n\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         list: this.props.flags,\r\n         isIncrease: false,\r\n      };\r\n      this.addRow = this.addRow.bind(this);\r\n      this.deleteLastRow = this.deleteLastRow.bind(this);\r\n   }\r\n\r\n   addRow() {\r\n      this.setState({isIncrease: true});\r\n      let currentList = this.state.list;\r\n      currentList.push('0');\r\n      this.setState({list: currentList});\r\n   }\r\n\r\n   deleteLastRow() {\r\n      this.setState({isIncrease: false});\r\n      let currentList = this.state.list;\r\n      currentList.pop();\r\n      this.setState({list: currentList});\r\n   }\r\n\r\n   getRows() {\r\n      return this.state.list.map((val, i) => {\r\n         let checkbox = +val ? <input defaultChecked type=\"checkbox\"></input> : <input type=\"checkbox\"></input>;\r\n         return (\r\n            <tr key={i} className={this.state.isIncrease && this.state.list.length-1 === i ? 'fadeIn' : ''}>\r\n               <td>Доступ к модулю {i + 1}</td>\r\n               <td><div className=\"switch\">\r\n                  <label>\r\n                     {checkbox}\r\n                     <span className=\"lever\"></span>\r\n                  </label>\r\n               </div></td>\r\n            </tr>\r\n         );\r\n      })\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div id={this.props.id} className=\"switch-list-wrapper\">\r\n            <table>\r\n               <thead>\r\n                  <tr>\r\n                     <th>Привилегия:</th>\r\n                     \r\n                     {this.state.list.length < 1 ? \"\" : <th>Разрешено?</th>}\r\n                  </tr>\r\n               </thead>\r\n\r\n               <tbody>\r\n\r\n                  {this.state.list.length < 1 ? <tr><td>Пользователь не обладает доступом к системе</td></tr> : this.getRows()}\r\n\r\n               </tbody>\r\n            </table>\r\n            <div className=\"table-config\">\r\n               <a className=\"table-link\" onClick={this.addRow}>Добавить строку</a>\r\n               <a className=\"table-link\" onClick={this.deleteLastRow}>Удалить последнюю</a>\r\n\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default SwitchList;","import React from 'react';\r\nimport M from 'materialize-css';\r\n\r\nclass SaveScreen extends React.Component {\r\n\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         json: this.props.data\r\n      };\r\n      this.copyInClipboard = this.copyInClipboard.bind(this);\r\n      this.saveFile = this.saveFile.bind(this);\r\n   }\r\n\r\n   saveFile() {\r\n      var file = new Blob([this.state.json], { type: 'application/json' });\r\n      if (window.navigator.msSaveOrOpenBlob)\r\n         window.navigator.msSaveOrOpenBlob(file, \"response.json\");\r\n      else { //legasy\r\n         var a = document.createElement(\"a\"),\r\n            url = URL.createObjectURL(file);\r\n         a.href = url;\r\n         a.download = \"response.json\";\r\n         document.body.appendChild(a);\r\n         a.click();\r\n         setTimeout(function () {\r\n            document.body.removeChild(a);\r\n            window.URL.revokeObjectURL(url);\r\n         }, 0);\r\n      }\r\n   }\r\n\r\n   copyInClipboard() {\r\n      navigator.clipboard.writeText(this.state.json).then(function () {\r\n         M.toast({ html: 'Готово!' });\r\n      }, function (err) {\r\n         M.toast({ html: 'Не удалось скопировать!' });\r\n      });\r\n   }\r\n\r\n   formatData(json) {\r\n      let obj = JSON.parse(json);\r\n      let formatted = [];\r\n      for (let key in obj) {\r\n         if (Array.isArray(obj[key])) {\r\n            formatted.push(<p key={formatted.length} className=\"syntax-new-line\">\"<span className=\"syntax-key\">{key}</span>\": [{obj[key].map(val => typeof (val) == \"number\" ? `${val}` : `\"${val}\"`).join(',')}],</p>);\r\n            continue;\r\n         }\r\n         formatted.push(<p key={formatted.length} className=\"syntax-new-line\">\"<span className=\"syntax-key\">{key}</span>\": {typeof (obj[key]) == 'number' ? <span className=\"syntax-number\">{obj[key]}</span> : <span className=\"syntax-string\">\"{obj[key]}\"</span>}\r\n            {formatted.length + 1 === Object.keys(obj).length ? \"\" : \",\"}</p>);\r\n      }\r\n\r\n      return (\r\n         <div>\r\n            <p>{\"{\"}</p>\r\n            {formatted}\r\n            <p>{\"}\"}</p>\r\n         </div>\r\n      );\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div className=\"save-screen-wrapper fadeIn\">\r\n\r\n            <a className=\"return-button\" onClick={this.props.returnAction}><i className=\"material-icons\">arrow_back</i>Вернуться</a>\r\n\r\n            <div className=\"card-panel teal z-depth-0\">\r\n               <span className=\"white-text\">Изменения опубликованы!</span>\r\n            </div>\r\n\r\n            <h6>Данные в запросе:</h6>\r\n\r\n            <pre>\r\n               <code>{this.formatData(this.props.data)}</code>\r\n            </pre>\r\n\r\n            <h5 className=\"continue-header\">Продолжить работу?</h5>\r\n            <div className=\"save-action\">\r\n               <a className=\"waves-effect waves-light btn-large blue\" onClick={this.copyInClipboard}><i className=\"material-icons\">file_copy</i>Скопировать</a>\r\n               <span>или</span>\r\n               <a className=\"waves-effect waves-light btn-large indigo\" onClick={this.saveFile}><i className=\"material-icons\">cloud_download</i>Сохранить</a>\r\n            </div>\r\n\r\n         </div>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default SaveScreen;","// Config file\r\nimport firebase from 'firebase';\r\n\r\n//just free version\r\nconst firebaseConfig = {\r\n   apiKey: \"AIzaSyB4S1fJ3teRiu6nNnfaDAJfanSq27Yu8ZU\",\r\n   authDomain: \"permission-editor.firebaseapp.com\",\r\n   databaseURL: \"https://permission-editor.firebaseio.com\",\r\n   projectId: \"permission-editor\",\r\n   storageBucket: \"permission-editor.appspot.com\",\r\n   messagingSenderId: \"261584327480\",\r\n   appId: \"1:261584327480:web:266eb7ba52da8a881ae7cd\"\r\n };\r\n\r\nexport default !firebase.apps.length ? firebase.initializeApp(firebaseConfig) : firebase.app();","import React from 'react';\r\nimport M from 'materialize-css';\r\nimport DatePicker from './DatePicker';\r\nimport Range from './Range';\r\nimport SwitchList from './SwitchList';\r\nimport SaveScreen from './SaveScreen';\r\nimport firebase from './firebase-config';\r\n\r\nclass EditorForm extends React.Component {\r\n\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         isSaved: false,\r\n         savedData: null\r\n      };\r\n      this.getUserData = this.getUserData.bind(this);\r\n      this.cancelChanges = this.cancelChanges.bind(this);\r\n      this.applyChanges = this.applyChanges.bind(this);\r\n   }\r\n\r\n   componentDidMount() {\r\n      var historyRef = firebase.database().ref('history');\r\n      historyRef.on('value', (snapshot) => {\r\n         if (!snapshot.val()) return;\r\n         this.setState({ history: Object.values(snapshot.val()) });\r\n      });\r\n   }\r\n\r\n   componentDidUpdate() {\r\n      //reset placeholders\r\n      M.updateTextFields();\r\n      //fix range\r\n      M.Range.init(document.querySelectorAll(\"input[type=range]\"));\r\n      //tooltips\r\n      M.Tooltip.init(document.querySelectorAll('.title-icon'), { position: 'top' });\r\n   }\r\n\r\n   async getUserData() {\r\n      try {\r\n         let response = await fetch('https://raw.githubusercontent.com/JustMonk/react-permission-editor/json/data.json');\r\n         let userData = await response.json();\r\n         this.setState({ serverData: userData });\r\n      } catch (e) {\r\n         console.log(e);\r\n      }\r\n   }\r\n\r\n   insertToDatabase(obj) {\r\n      /*пушим :)*/\r\n      let newPostKey = firebase.database().ref().child('history').push().key;\r\n      firebase.database().ref('history/' + newPostKey).set({\r\n         id: obj.id,\r\n         name: obj.name,\r\n         email: obj.email,\r\n         config_bool: obj.config_bool,\r\n         timer_integer: obj.timer_integer,\r\n         flags: obj.flags,\r\n         activate_date: obj.activate_date,\r\n         update_date: obj.update_date,\r\n         timestamp: Date.now()\r\n      });\r\n   }\r\n\r\n   cancelChanges() {\r\n      this.setState({ serverData: null });\r\n      this.setState({ isSaved: false });\r\n   }\r\n\r\n   applyChanges() {\r\n      //флаг\r\n      let isValid = true;\r\n\r\n      let responseObj = { id: this.state.serverData.id };\r\n\r\n      responseObj.name = document.getElementById('user_name').value;\r\n\r\n      responseObj.email = document.getElementById('user_email').value;\r\n      let regExp = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n      if (!regExp.test(responseObj.email)) {\r\n         isValid = false;\r\n         document.getElementById('user_email').classList.add('invalid');\r\n      }\r\n\r\n      responseObj.config_bool = document.getElementById('config_bool').checked ? '1' : '0';\r\n\r\n      responseObj.timer_integer = Number(document.getElementById('timer_range').value);\r\n      if (responseObj.timer_integer < 100 || responseObj.timer_integer > 1000) isValid = false;\r\n\r\n      responseObj.flags = [];\r\n      let tableBody = document.getElementById('flag_list').querySelector('table').tBodies[0];\r\n      tableBody.querySelectorAll('tr').forEach(val => {\r\n         responseObj.flags.push(val.querySelector('input').checked ? '1' : '0')\r\n      });\r\n\r\n      let userInputDate = new Date(document.getElementById('activate_date').value + ' GMT');\r\n      try {\r\n         if (new Date(document.getElementById('activate_date').value) < new Date()) throw new Error();\r\n         responseObj.activate_date = userInputDate.toISOString().split('.')[0] + \"Z\"; //cut ms\r\n      } catch (e) {\r\n         isValid = false;\r\n         document.getElementById('activate_date').classList.add('invalid');\r\n      }\r\n\r\n      userInputDate = new Date(document.getElementById('update_date').value + ' GMT');\r\n      try {\r\n         let iso = userInputDate.toISOString();\r\n         responseObj.update_date = `${iso.split('T')[0]} ${iso.split('T')[1].slice(0, 8)}`;\r\n      } catch (e) {\r\n         isValid = false;\r\n         document.getElementById('update_date').classList.add('invalid');\r\n      }\r\n\r\n      if (isValid) {\r\n         this.setState({ savedData: JSON.stringify(responseObj) });\r\n         this.setState({ isSaved: true });\r\n         this.insertToDatabase(responseObj);\r\n      } else {\r\n         M.toast({ html: 'Пожалуйста проверьте введенные данные!' });\r\n      }\r\n   }\r\n\r\n   showCurrentForm() {\r\n      if (this.state.isSaved) {\r\n         return (\r\n            <SaveScreen data={this.state.savedData} returnAction={this.cancelChanges} />\r\n         );\r\n      } else {\r\n         return (\r\n            <div id=\"editor-form\">\r\n\r\n               <div className=\"row outside-wrapper fadeIn\">\r\n                  <form className=\"col s12\">\r\n\r\n                     <div className=\"input-title\"><i className=\"material-icons title-icon\" data-tooltip=\"Информация, недоступная для редактирования\">help_outline</i>Служебные данные:</div>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                           <input disabled value={this.state.serverData.id} id=\"disabled\" type=\"text\" className=\"validate\"></input>\r\n                           <label htmlFor=\"disabled\">Идентификатор</label>\r\n                        </div>\r\n                     </div>\r\n\r\n\r\n                     <div className=\"input-title\"><i className=\"material-icons title-icon\" data-tooltip=\"Данные пользователя, которые можно изменить\">help_outline</i>Личные данные:</div>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s6\">\r\n                           <input id=\"user_name\" defaultValue={this.state.serverData.name} placeholder=\"Введите имя пользователя\" type=\"text\" className=\"validate\"></input>\r\n                           <label htmlFor=\"user_name\">Имя</label>\r\n                        </div>\r\n                        <div className=\"input-field col s6\">\r\n                           <input id=\"user_email\" defaultValue={this.state.serverData.email} placeholder=\"Введите адрес электронной почты\" type=\"text\" className=\"validate\"></input>\r\n                           <label htmlFor=\"user_email\">Эл.почта</label>\r\n                        </div>\r\n                     </div>\r\n\r\n                     <div className=\"input-title\"><i className=\"material-icons title-icon\" data-tooltip=\"Право редактировать настройки, передается в «config_bool»\">help_outline</i>Особые разрешения:</div>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                           <div className=\"switch\" style={{ display: 'flex' }}>\r\n                              Доступ к конфигуратору\r\n                              <label>\r\n                                 {+this.state.serverData.config_bool ? <input id=\"config_bool\" defaultChecked type=\"checkbox\"></input> : <input id=\"config_bool\" type=\"checkbox\"></input>}\r\n                                 <span className=\"lever\"></span>\r\n                              </label>\r\n                           </div>\r\n                        </div>\r\n                     </div>\r\n\r\n\r\n                     <div className=\"input-title\"><i className=\"material-icons title-icon\" data-tooltip=\"Передвигайте ползунок для установки значения\">help_outline</i>Настройка таймера:</div>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                           <Range id=\"timer_range\" min=\"100\" max=\"1000\" default={this.state.serverData.timer_integer} />\r\n                        </div>\r\n                     </div>\r\n\r\n\r\n                     <div className=\"input-title\"><i className=\"material-icons title-icon\" data-tooltip=\"Выберите нужную дату, нажав на календарь, либо отредактируйте строку. Часовой пояс по умолчанию GMT +0\">help_outline</i>Настройка времени:</div>\r\n                     <div className=\"row\">\r\n                        <DatePicker id=\"activate_date\" label=\"Дата активации\" default={this.state.serverData.dateactivate} minDate={new Date()} colSize=\"6\" type={\"GMT\"} errorText={\"Введите корректную дату, больше текущей\"} />\r\n                        <DatePicker id=\"update_date\" label=\"Дата обновления\" default={this.state.serverData.dateupdate} minDate={null} colSize=\"6\" errorText={\"Некорректная дата\"} />\r\n                     </div>\r\n\r\n\r\n\r\n                     <div className=\"input-title\"><i className=\"material-icons title-icon\" data-tooltip=\"Редактируйте список для предоставления или ограничения доступа\">help_outline</i>Настройка доступа:</div>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n\r\n                           <SwitchList id=\"flag_list\" flags={this.state.serverData.flags} />\r\n\r\n                        </div>\r\n                     </div>\r\n\r\n                     <div className=\"form-action\">\r\n                        <a className=\"waves-effect waves-light btn-large\" onClick={this.applyChanges}>Сохранить</a>\r\n                        <a className=\"waves-effect waves-grey btn-flat btn-large white\" onClick={this.cancelChanges}>Отменить изменения</a>\r\n                     </div>\r\n                  </form>\r\n               </div>\r\n            </div>\r\n         );\r\n      }\r\n\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div className=\"row outside-wrapper\">\r\n\r\n            {!this.state.serverData ?\r\n\r\n               <div id=\"get-user\" className=\"action-message slideUp\">\r\n\r\n                  <h5>Шаг 1: загрузите данные пользователя</h5>\r\n                  <a className=\"waves-effect waves-light btn-large\" id=\"start-button\" onClick={this.getUserData}>Начать работу</a>\r\n\r\n               </div>\r\n\r\n               :\r\n               this.showCurrentForm()\r\n            }\r\n\r\n         </div>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default EditorForm;","import React from 'react';\r\nimport M from 'materialize-css';\r\nimport firebase from './firebase-config';\r\n\r\nclass HistoryLog extends React.Component {\r\n\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         history: [] //array of object\r\n      };\r\n   }\r\n\r\n   componentDidMount() {\r\n      var historyRef = firebase.database().ref('history');\r\n      historyRef.on('value', (snapshot) => {\r\n         if (!snapshot.val()) return;\r\n         this.setState({ history: Object.values(snapshot.val()).reverse() });\r\n      });\r\n      M.Collapsible.init(document.querySelectorAll('.collapsible'), {});\r\n   }\r\n\r\n   componentDidUpdate() {\r\n      M.Collapsible.init(document.querySelectorAll('.collapsible'), {});\r\n   }\r\n\r\n   render() {\r\n      return (\r\n\r\n         <div className=\"row outside-wrapper fadeIn\">\r\n\r\n            {this.state.history.length < 1 ?\r\n               <div id=\"empty-history\" className=\"action-message\">\r\n                  <h5>На данный момент история пуста</h5>\r\n                  <h6>Станьте первопроходцем :)</h6>\r\n               </div>\r\n\r\n               :\r\n\r\n               <div className=\"expand-wrapper\">\r\n\r\n                  <ul className=\"collapsible\">\r\n\r\n                     {this.state.history.map((val, i) => {\r\n                        return (\r\n                           <li key={`${val.timestamp}`}>\r\n\r\n                              <div className=\"collapsible-header\">\r\n                                 <i className=\"material-icons\">history</i>\r\n                                 <div className=\"history-expand\">\r\n                                 <span>Дата: {new Date(val.timestamp).toISOString()}</span>\r\n                                 <span>ID: {val.id}</span>\r\n                                 <span>Name: {val.name}</span>\r\n                                 <span>Editor: admin</span>\r\n                                 </div>\r\n                              </div>\r\n\r\n                              <div className=\"collapsible-body\">\r\n                                 <p>id: {val.id}</p>\r\n                                 <p>name: {val.name}</p>\r\n                                 <p>email: {val.email}</p>\r\n                                 <p>config_bool: {val.config_bool}</p>\r\n                                 <p>timer_integer: {val.timer_integer}</p>\r\n                                 <p>flags: {val.flags}</p>\r\n                                 <p>activate_date: {val.activate_date}</p>\r\n                                 <p>update_date: {val.update_date}</p>\r\n                                 <p>timestamp: {val.timestamp}</p>\r\n                              </div>\r\n                           </li>\r\n                        );\r\n                     })}\r\n\r\n                  </ul>\r\n               </div>\r\n            }\r\n\r\n         </div>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default HistoryLog;","import React from 'react';\r\nimport M from 'materialize-css';\r\nimport EditorForm from './EditorForm';\r\nimport HistoryLog from './HistoryLog';\r\nimport firebase from './firebase-config';\r\n\r\nclass Tabs extends React.Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         historyRecords: 0\r\n      };\r\n   }\r\n\r\n   componentDidMount() {\r\n      M.Tabs.init(document.querySelector('.tabs'), {});\r\n\r\n      var historyRef = firebase.database().ref('history');\r\n      historyRef.on('value', (snapshot) => {\r\n         if (!snapshot.val()) return;\r\n         this.setState({ historyRecords: Object.values(snapshot.val()).length ? Object.values(snapshot.val()).length : 0 });\r\n      });\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div className=\"row outside-wrapper\">\r\n\r\n            <div className=\"col s8\">\r\n               <ul className=\"tabs\">\r\n                  <li className=\"tab col s3\"><a href=\"#editor-wrapper\">Редактор</a></li>\r\n                  <li className=\"tab col s3\"><a href=\"#history-wrapper\">История ({this.state.historyRecords})</a></li>\r\n               </ul>\r\n            </div>\r\n\r\n            <div id=\"editor-wrapper\" className=\"col s12\">\r\n               <EditorForm />\r\n            </div>\r\n\r\n            <div id=\"history-wrapper\" className=\"col s12\">\r\n               <HistoryLog />\r\n            </div>\r\n\r\n         </div>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default Tabs;","import React from 'react';\r\nimport Tabs from './Tabs';\r\n\r\nclass Card extends React.Component {\r\n\r\n   render() {\r\n      return (\r\n         <div className=\"card-wrapper container\">\r\n            <div className=\"card-panel white\">\r\n               <h5>Настройка полномочий пользователя</h5>\r\n\r\n               <Tabs />\r\n\r\n            </div>\r\n         </div>\r\n      );\r\n   }\r\n\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nfunction Navbar(props) {\r\n    return (\r\n        <div className=\"dummy-nav z-depth-1\">\r\n            <div className=\"container nav-content\">\r\n                <div className=\"nav-title\">React PE</div>\r\n                <div className=\"nav-user\">\r\n\r\n                    <div className=\"user-info\">\r\n                        <svg width=\"80\" height=\"14\"><rect width=\"100%\" height=\"100%\"></rect></svg>\r\n                        <svg width=\"45\" height=\"14\"><rect width=\"100%\" height=\"100%\"></rect></svg>\r\n                    </div>\r\n\r\n                    <div className=\"user-avatar\">\r\n                        <img src=\"img/avatar.jpg\" alt=\"user-avatar\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport 'materialize-css/dist/css/materialize.min.css';\r\nimport './App.css';\r\nimport Card from './components/Card.js';\r\nimport Navbar from './components/Navbar'\r\n\r\n\r\nclass App extends React.Component {\r\n   render() {\r\n      return (\r\n         <div className=\"App\">\r\n           <Navbar />\r\n            <header className=\"App-header\">\r\n               <h4>Панель управления</h4>\r\n            </header>\r\n            <Card />\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}